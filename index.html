<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LocalStorage Collaboration</title>
</head>
<body>
    <h2>Real-Time Collaboration on One Device</h2>
    <textarea id="editor" rows="10" cols="50"></textarea>

    <script>
        // Get the textarea element
        const editor = document.getElementById('editor');

        // Listen for changes in the text area and update localStorage
        editor.addEventListener('input', () => {
            localStorage.setItem('text', editor.value);  // Save text to localStorage
        });

        // Listen for changes in localStorage across different tabs
        window.addEventListener('storage', (event) => {
            if (event.key === 'text') {
                editor.value = event.newValue;  // Update the textarea when localStorage changes
            }
        });

        // Initialize the textarea with existing content from localStorage
        if (localStorage.getItem('text')) {
            editor.value = localStorage.getItem('text');
        }
    </script>
</body>
</html>
